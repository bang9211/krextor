###################################################################################
# Main Configuration
###################################################################################

[UXCUTOR/COMMON]
MAX_MQ_SIZE	= 2048
USE_MQ = ON
USE_FD = ON
MAX_MESSAGE_SIZE = 20480
MAX_THREAD = 4
MPOOL_MAX_FREE = 0 # Mega byte
DEFAULT_LOG_FILE = log/smscib/smscib

[UXCUTOR/PROTOCOL_ADAPTER]
# protocol_adapter_name; protocol_id; dll_file; padapter_create_function; configuration_file(opt)
PA_DBIF; 1; libupa_dbif.so; upa_dbif_create;
PA_TCP; 3; libupa_tcp.so; upa_tcp_create;

[UXCUTOR/PLUGIN]
# plugin-dll-file; DLL STATIC or DYNAMIC; plugin_create_function(opt); configuration_file(opt)
libsmscib.so; DYNAMIC; tcp_client_create; $UASYS_HOME/data/smscib.conf
libsmscib.so; DYNAMIC; tcp_server_create; $UASYS_HOME/data/smscib.conf

[UXCUTOR/ACTION]
# action_name; from; to; kind; function_name; file_name(opt); flags(opt) 
# flags : 0x01(PUSH_ALL_THREAD) 
dis-patcp-chnl; 20100603000000; 20301231235959; SYS; upa_tcpmmc_dis_channel 
add-patcp-chnl; 20100603000000; 20301231235959; SYS; upa_tcpmmc_add_channel 
chg-patcp-chnl; 20100603000000; 20301231235959; SYS; upa_tcpmmc_chg_channel 
del-patcp-chnl; 20100603000000; 20301231235959; SYS; upa_tcpmmc_del_channel 
dis-patcp-chnl-stat; 20100603000000; 20301231235959; SYS; upa_tcpmmc_dis_chnlstat 

#GW DBIF REQUEST HANDLE
dbif_handle_gwreq; 20100603000000; 20301231235959; DLL; dbif_handle_gwreq; libsmscib.so
#smsc TCP RESPONSE HANDLE
tcp_client_handle_smscrsp; 20100603000000; 20301231235959; DLL; tcp_client_handle_smscrsp; libsmscib.so
#smsc TCP REQUEST HANDLE
tcp_server_handle_smscreq; 20100603000000; 20301231235959; DLL; tcp_server_handle_smscreq; libsmscib.so
#GW DBIF RESPONSE HANDLE
dbif_handle_gwrsp; 20100603000000; 20301231235959; DLL; dbif_handle_gwrsp; libsmscib.so


###################################################################################
# Protocol Adapters Configuration
###################################################################################
[UXCUTOR/PA_DBIF/COMMON]
# DBIF protocol adapter common configuration : lib=libupa_dbif, class=upa_dbif_t
# MTYPE = 10

[UXCUTOR/PA_DBIF/OPDATA]
# DBIF PA opdata configuration : lib=libupa_dbif, class=upa_dbif_t
# opcode(msg-id); action; name; timeout(msec); service; subsid indexes
# Notice : Don't use msg id from 0 to 3 because the values are reserved in sql msg ID
100; dbif_handle_gwreq
101; dbif_handle_gwreq
400; dbif_handle_gwrsp
401; dbif_handle_gwrsp

[UXCUTOR/PA_TCP/CHANNEL]
# TCP PA channel configuration : lib=libupa_tcp, class=upa_tcp_t
# channel_name; channel_id; action_name; mode; pri_ip; sec_ip(opt); port;
#     mpi_name(opt);reconnect_time(opt); bind_ip(opt); bind_port(opt); max_peer(opt);

# 최대길이가 channel_name은 32, mpi_name은 16임을 명심
# sms
tcp_chnl_sms_cli; 0; tcp_client_handle_smscrsp; CLIENT; 127.0.0.1; ; 13003; tcp_chnl_sms_cli; 10; ; ; 
tcp_chnl_sms_svr; 1; tcp_server_handle_smscreq; SERVER; 127.0.0.1; ; 13004; ; 10;

[UXCUTOR/PA_TCP/CHANNEL/PEER]
# TCP PA channel peer configuration : lib=libupa_tcp, class=upa_tcp_t

[UXCUTOR/PA_TCP/PROTOCOL]
# channel_name; is_text; exclude; endian; len_type; len_size; len_idx; hdr_size; sock_buf_size
# Big Endian(sun) : 0, Little Endian(linux, intel) : 1
# - is_text = Text 형태의 메시지인지 여부로 1이면 Text 메시지 – 현재 지원 안 함. 무조건 Bynary 포맷으로 인식
# - exclude = Exculde가 1이면 메시지의 사이즈가 메시지 헤더 사이즈를 포함되지 않으며, 0이면 헤더 사이즈를 포함한다.
# - endian = Peer의 메시지 전송 시, network byte ordering이 Little Endian인지 여부, 0이면 big endian, 1이면 little endian
# - len_type = Integer Type : 0, String Type : 1
# - len_size =  헤더에서 메시지의 길이를 나타내는 영역의 크기
# - len_idx = 헤더에서 메시지의 길이를 나타내는 위치의 시작점
# - hdr_size = 메시지 헤더의 크기
# - sock_buf_size = SEND/RECV Socket Buffer Size - 설정하지 않으면 시스템 Default 값 사용
tcp_chnl_sms_cli ; 0; 1; 0; 0; 4; 4; 16 ;
tcp_chnl_sms_svr ; 0; 1; 0; 0; 4; 4; 16 ;

[UXCUTOR/PA_TCP/STAT]
CHNLSTAT_SHMKEY = UPATCP_CHNL_STAT 


###################################################################################
# SKB Configuration
###################################################################################

[SKB]
CALL_BINDING_USER_ID = PGW1
CALL_BINDING_PASSWORD = PGW11
RECORDING_BINDING_USER_ID = PGW2
RECORDING_BINDING_PASSWORD = PGW22
CONFERENCE_BINDING_USER_ID = PGW3
CONFERENCE_BINDING_PASSWORD = PGW33

HEARTBEAT_INTERVAL = 2  # heartbeat request에 대한 response를 받은 시간에 interval이 적용
HEARTBEAT_TIMEOUT = 7   # heartbeat request에 대한 response timeout
REQUEST_TIMEOUT = 1

HEARTBEAT_DISPLAY = true
# HEARTBEAT_DISPLAY = false

DBIF_GW_PROCESS_NAME = gw